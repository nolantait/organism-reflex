!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("stimulus")):"function"==typeof define&&define.amd?define(["exports","stimulus"],t):t(e.uiReflex={},e.stimulus)}(this,function(e,t){const n=(e,t)=>{const n=e[t];return"function"==typeof n?n:(...e)=>{}};const o={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},i=(e,t={})=>{const{onlyVisible:n,dispatchEvent:i,events:s,eventPrefix:l}=Object.assign({},o,t),r=o=>{const s=(null==t?void 0:t.element)||e.element;if(!(s.contains(o.target)||!function(e){const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return t.top<=n&&t.top+t.height>=0&&t.left<=o&&t.left+t.width>=0}(s)&&n)&&(e.clickOutside&&e.clickOutside(o),i)){const t=((e,t,n)=>{const{bubbles:o,cancelable:i,composed:s}=t||{bubbles:!0,cancelable:!0,composed:!0};return t&&Object.assign(n,{originalEvent:t}),new CustomEvent(e,{bubbles:o,cancelable:i,composed:s,detail:n})})(((e,t,n)=>{let o=e;return!0===n?o=`${t.identifier}:${e}`:"string"==typeof n&&(o=`${n}:${e}`),o})("click:outside",e,l),o,{controller:e});s.dispatchEvent(t)}},c=()=>{null==s||s.forEach(e=>{window.addEventListener(e,r,!1)})},d=()=>{null==s||s.forEach(e=>{window.removeEventListener(e,r,!1)})},a=e.disconnect.bind(e);return Object.assign(e,{disconnect(){d(),a()}}),c(),[c,d]},s={debug:!1,logger:console};class l{constructor(e,t={}){var n,o,i;this.log=((e,t)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${e}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},t)),this.logger.groupEnd())}),this.debug=null!==(o=null!==(n=null==t?void 0:t.debug)&&void 0!==n?n:e.application.stimulusUseDebug)&&void 0!==o?o:s.debug,this.logger=null!==(i=null==t?void 0:t.logger)&&void 0!==i?i:s.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)}}class r extends l{constructor(e,t={}){super(e,t),this.observe=(()=>{this.targetElement.addEventListener("mouseenter",this.onEnter),this.targetElement.addEventListener("mouseleave",this.onLeave)}),this.unobserve=(()=>{this.targetElement.removeEventListener("mouseenter",this.onEnter),this.targetElement.removeEventListener("mouseleave",this.onLeave)}),this.onEnter=(()=>{n(this.controller,"mouseEnter").call(this.controller),this.log("mouseEnter",{hover:!0})}),this.onLeave=(()=>{n(this.controller,"mouseLeave").call(this.controller),this.log("mouseLeave",{hover:!1})}),this.targetElement=(null==t?void 0:t.element)||e.element,this.controller=e,this.enhanceController(),this.observe()}enhanceController(){const e=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}var c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.connect=function(){switch(i(this),this.modeValue){case"click":break;case"hover":((e,t={})=>{const n=new r(e,t)})(this)}},t.prototype.toggle=function(e){e.preventDefault(),e.stopImmediatePropagation(),this.expandedValue=!this.expandedValue},t.prototype.expandedValueChanged=function(){this.expandedValue?this._expand():this._collapse()},t.prototype.clickOutside=function(e){e.preventDefault(),this.expandedValue=!1},t.prototype.mouseEnter=function(){this.expandedValue=!0},t.prototype.mouseLeave=function(){this.expandedValue=!1},t.prototype._expand=function(){this.element.setAttribute("aria-expanded","true"),this.expandableTarget.classList.remove(this.hiddenClass)},t.prototype._collapse=function(){this.element.setAttribute("aria-expanded","false"),this.expandableTarget.classList.add(this.hiddenClass)},t}(t.Controller);c.classes=["hidden"],c.targets=["expandable"],c.values={expanded:Boolean,mode:String},e.Dropdown=c});
//# sourceMappingURL=ui-reflex.esm.umd.js.map
