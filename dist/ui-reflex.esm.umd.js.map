{"version":3,"file":"ui-reflex.esm.umd.js","sources":["../src/dropdown.js","../src/pagination.js","../src/wizard.js","../src/selectable.js","../node_modules/@rails/ujs/lib/assets/compiled/rails-ujs.js","../node_modules/sortablejs/modular/sortable.esm.js","../src/sortable.js","../src/collapsable.js"],"sourcesContent":["import { Controller } from \"stimulus\"\nimport { useHover, useClickOutside } from 'stimulus-use'\n\nexport default class extends Controller {\n  static classes = [ \"hidden\" ]\n  static targets = [ \"expandable\" ]\n  static values = {\n    expanded: Boolean,\n    mode: String\n  }\n\n  connect() {\n    useClickOutside(this)\n\n    switch(this.modeValue) {\n      case 'click':\n        break\n      case 'hover':\n        useHover(this)\n        break\n      default:\n        break\n    }\n  }\n\n  toggle(event) {\n    event.preventDefault()\n    event.stopImmediatePropagation()\n\n    this.expandedValue = !this.expandedValue\n  }\n\n  expandedValueChanged() {\n    this.expandedValue ?\n      this._expand() :\n      this._collapse()\n  }\n\n  clickOutside(event) {\n    this.expandedValue = false\n  }\n\n  mouseEnter() {\n    this.expandedValue = true\n  }\n\n  mouseLeave() {\n    this.expandedValue = false\n  }\n\n  _expand() {\n    this.element.setAttribute(\"aria-expanded\", \"true\")\n    this.expandableTarget.classList.remove(this.hiddenClass)\n  }\n\n  _collapse() {\n    this.element.setAttribute(\"aria-expanded\", \"false\")\n    this.expandableTarget.classList.add(this.hiddenClass)\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ \"hidden\" ]\n  static targets = [ \"windows\" ]\n  static values = {\n    windowPosition: Number,\n  }\n\n  connect() {\n    this._hideWindows()\n  }\n\n  windowPositionValueChanged() {\n    this._hideWindows()\n  }\n\n  next() {\n    this.windowPositionValue += 1\n  }\n\n  previous() {\n    this.windowPositionValue -= 1\n  }\n\n  _hideWindows() {\n    this.windowsTargets.forEach((el) => {\n      const elPosition = parseInt(el.dataset.position)\n\n      if (elPosition === this.windowPositionValue) {\n        el.classList.remove(this.hiddenClass)\n      } else {\n        el.classList.add(this.hiddenClass)\n      }\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ \"hidden\", \"currentStep\" ]\n  static targets = [ \"step\", \"content\", \"next\", \"previous\", \"finish\"]\n  static values = {\n    stepPosition: Number,\n  }\n\n  connect() {\n    this._onChange()\n  }\n\n  stepPositionValueChanged() {\n    this._onChange()\n  }\n\n  next() {\n    this.stepPositionValue += 1\n  }\n\n  previous() {\n    this.stepPositionValue -= 1\n  }\n\n  _onChange() {\n    this._showCurrentContent()\n    this._toggleControls()\n    this._toggleCurrentStep()\n  }\n\n  _toggleCurrentStep() {\n    this.stepTargets.forEach((el) => {\n      if (this._position(el) === this.stepPositionValue) {\n        el.classList.add(this.currentStepClass)\n      } else {\n        el.classList.remove(this.currentStepClass)\n      }\n    })\n  }\n\n  _toggleControls() {\n    if (this._is_last_step()) {\n      this.nextTarget.classList.add(this.hiddenClass)\n      this.finishTarget.classList.remove(this.hiddenClass)\n    } else {\n      this.finishTarget.classList.add(this.hiddenClass)\n      this.nextTarget.classList.remove(this.hiddenClass)\n    }\n\n    if (this._is_past_steps()) {\n      this.previousTarget.classList.remove(this.hiddenClass)\n    } else {\n      this.previousTarget.classList.add(this.hiddenClass)\n    }\n  }\n\n  _is_past_steps() {\n    return this.stepPositionValue > 1\n  }\n\n  _is_last_step() {\n    return this.stepPositionValue === this.contentTargets.length\n  }\n\n  _showCurrentContent(targets) {\n    this.contentTargets.forEach((el) => {\n      if (this._position(el) === this.stepPositionValue) {\n        el.classList.remove(this.hiddenClass)\n      } else {\n        el.classList.add(this.hiddenClass)\n      }\n    })\n  }\n\n  _position(el) {\n    return parseInt(el.dataset.position)\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"input\", \"selectAll\" ]\n  static values = {\n    selected: Array,\n    type: String\n  }\n\n  select(event) {\n    const id = event.target.value\n    let set = new Set(this.selectedValue)\n\n    if (set.has(id)) {\n      this._delete(set, id)\n    } else {\n      this._add(set, id)\n    }\n\n    this._setSelectedWithSet(set)\n  }\n\n  selectAll(event) {\n    const selected = this._selectedInputs()\n    const unselected = this._unselectedInputs()\n\n    if (this._is_all_checked()) {\n      this._unselect(selected)\n    } else {\n      this._select(unselected)\n    }\n  }\n\n  selectedValueChanged() {\n    this._setSelected()\n  }\n\n  _select(inputs) {\n    const set = new Set(this.selectedValue)\n    const ids = inputs.map((el) => el.value)\n\n    ids.forEach((id) => {\n      this._add(set, id)\n    })\n\n    this._setSelectedWithSet(set)\n  }\n\n  _unselect(inputs) {\n    const set = new Set(this.selectedValue)\n    const ids = inputs.map((el) => el.value)\n\n    ids.forEach((id) => {\n      this._delete(set, id)\n    })\n\n    this._setSelectedWithSet(set)\n  }\n\n  _setSelected() {\n    this.inputTargets.forEach((el) => {\n      el.checked = this.selectedValue.includes(el.value)\n    })\n\n    if (this.hasSelectAllTarget) {\n      this.selectAllTarget.checked = this._is_all_checked()\n    }\n  }\n\n  _is_all_checked() {\n    return this._selectedInputs().length === this.inputTargets.length\n  }\n\n  _selectedInputs() {\n    return this.inputTargets.filter(el => el.checked)\n  }\n\n  _unselectedInputs() {\n    return this.inputTargets.filter(el => !el.checked)\n  }\n\n  _setSelectedWithSet(set) {\n    this.selectedValue = Array.from(set)\n  }\n\n  _delete(set, value) {\n    set.delete(value)\n  }\n\n  _add(set, value) {\n    if (this.typeValue === 'one') {\n      set.clear()\n    }\n\n    set.add(value)\n  }\n}\n","/*\nUnobtrusive JavaScript\nhttps://github.com/rails/rails/blob/main/actionview/app/assets/javascripts\nReleased under the MIT license\n */;\n\n(function() {\n  var context = this;\n\n  (function() {\n    (function() {\n      this.Rails = {\n        linkClickSelector: 'a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]',\n        buttonClickSelector: {\n          selector: 'button[data-remote]:not([form]), button[data-confirm]:not([form])',\n          exclude: 'form button'\n        },\n        inputChangeSelector: 'select[data-remote], input[data-remote], textarea[data-remote]',\n        formSubmitSelector: 'form',\n        formInputClickSelector: 'form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])',\n        formDisableSelector: 'input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled',\n        formEnableSelector: 'input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled',\n        fileInputSelector: 'input[name][type=file]:not([disabled])',\n        linkDisableSelector: 'a[data-disable-with], a[data-disable]',\n        buttonDisableSelector: 'button[data-remote][data-disable-with], button[data-remote][data-disable]'\n      };\n\n    }).call(this);\n  }).call(context);\n\n  var Rails = context.Rails;\n\n  (function() {\n    (function() {\n      var nonce;\n\n      nonce = null;\n\n      Rails.loadCSPNonce = function() {\n        var ref;\n        return nonce = (ref = document.querySelector(\"meta[name=csp-nonce]\")) != null ? ref.content : void 0;\n      };\n\n      Rails.cspNonce = function() {\n        return nonce != null ? nonce : Rails.loadCSPNonce();\n      };\n\n    }).call(this);\n    (function() {\n      var expando, m;\n\n      m = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n      Rails.matches = function(element, selector) {\n        if (selector.exclude != null) {\n          return m.call(element, selector.selector) && !m.call(element, selector.exclude);\n        } else {\n          return m.call(element, selector);\n        }\n      };\n\n      expando = '_ujsData';\n\n      Rails.getData = function(element, key) {\n        var ref;\n        return (ref = element[expando]) != null ? ref[key] : void 0;\n      };\n\n      Rails.setData = function(element, key, value) {\n        if (element[expando] == null) {\n          element[expando] = {};\n        }\n        return element[expando][key] = value;\n      };\n\n      Rails.$ = function(selector) {\n        return Array.prototype.slice.call(document.querySelectorAll(selector));\n      };\n\n    }).call(this);\n    (function() {\n      var $, csrfParam, csrfToken;\n\n      $ = Rails.$;\n\n      csrfToken = Rails.csrfToken = function() {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-token]');\n        return meta && meta.content;\n      };\n\n      csrfParam = Rails.csrfParam = function() {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-param]');\n        return meta && meta.content;\n      };\n\n      Rails.CSRFProtection = function(xhr) {\n        var token;\n        token = csrfToken();\n        if (token != null) {\n          return xhr.setRequestHeader('X-CSRF-Token', token);\n        }\n      };\n\n      Rails.refreshCSRFTokens = function() {\n        var param, token;\n        token = csrfToken();\n        param = csrfParam();\n        if ((token != null) && (param != null)) {\n          return $('form input[name=\"' + param + '\"]').forEach(function(input) {\n            return input.value = token;\n          });\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var CustomEvent, fire, matches, preventDefault;\n\n      matches = Rails.matches;\n\n      CustomEvent = window.CustomEvent;\n\n      if (typeof CustomEvent !== 'function') {\n        CustomEvent = function(event, params) {\n          var evt;\n          evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n        CustomEvent.prototype = window.Event.prototype;\n        preventDefault = CustomEvent.prototype.preventDefault;\n        CustomEvent.prototype.preventDefault = function() {\n          var result;\n          result = preventDefault.call(this);\n          if (this.cancelable && !this.defaultPrevented) {\n            Object.defineProperty(this, 'defaultPrevented', {\n              get: function() {\n                return true;\n              }\n            });\n          }\n          return result;\n        };\n      }\n\n      fire = Rails.fire = function(obj, name, data) {\n        var event;\n        event = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true,\n          detail: data\n        });\n        obj.dispatchEvent(event);\n        return !event.defaultPrevented;\n      };\n\n      Rails.stopEverything = function(e) {\n        fire(e.target, 'ujs:everythingStopped');\n        e.preventDefault();\n        e.stopPropagation();\n        return e.stopImmediatePropagation();\n      };\n\n      Rails.delegate = function(element, selector, eventType, handler) {\n        return element.addEventListener(eventType, function(e) {\n          var target;\n          target = e.target;\n          while (!(!(target instanceof Element) || matches(target, selector))) {\n            target = target.parentNode;\n          }\n          if (target instanceof Element && handler.call(target, e) === false) {\n            e.preventDefault();\n            return e.stopPropagation();\n          }\n        });\n      };\n\n    }).call(this);\n    (function() {\n      var AcceptHeaders, CSRFProtection, createXHR, cspNonce, fire, prepareOptions, processResponse;\n\n      cspNonce = Rails.cspNonce, CSRFProtection = Rails.CSRFProtection, fire = Rails.fire;\n\n      AcceptHeaders = {\n        '*': '*/*',\n        text: 'text/plain',\n        html: 'text/html',\n        xml: 'application/xml, text/xml',\n        json: 'application/json, text/javascript',\n        script: 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'\n      };\n\n      Rails.ajax = function(options) {\n        var xhr;\n        options = prepareOptions(options);\n        xhr = createXHR(options, function() {\n          var ref, response;\n          response = processResponse((ref = xhr.response) != null ? ref : xhr.responseText, xhr.getResponseHeader('Content-Type'));\n          if (Math.floor(xhr.status / 100) === 2) {\n            if (typeof options.success === \"function\") {\n              options.success(response, xhr.statusText, xhr);\n            }\n          } else {\n            if (typeof options.error === \"function\") {\n              options.error(response, xhr.statusText, xhr);\n            }\n          }\n          return typeof options.complete === \"function\" ? options.complete(xhr, xhr.statusText) : void 0;\n        });\n        if ((options.beforeSend != null) && !options.beforeSend(xhr, options)) {\n          return false;\n        }\n        if (xhr.readyState === XMLHttpRequest.OPENED) {\n          return xhr.send(options.data);\n        }\n      };\n\n      prepareOptions = function(options) {\n        options.url = options.url || location.href;\n        options.type = options.type.toUpperCase();\n        if (options.type === 'GET' && options.data) {\n          if (options.url.indexOf('?') < 0) {\n            options.url += '?' + options.data;\n          } else {\n            options.url += '&' + options.data;\n          }\n        }\n        if (AcceptHeaders[options.dataType] == null) {\n          options.dataType = '*';\n        }\n        options.accept = AcceptHeaders[options.dataType];\n        if (options.dataType !== '*') {\n          options.accept += ', */*; q=0.01';\n        }\n        return options;\n      };\n\n      createXHR = function(options, done) {\n        var xhr;\n        xhr = new XMLHttpRequest();\n        xhr.open(options.type, options.url, true);\n        xhr.setRequestHeader('Accept', options.accept);\n        if (typeof options.data === 'string') {\n          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        }\n        if (!options.crossDomain) {\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n          CSRFProtection(xhr);\n        }\n        xhr.withCredentials = !!options.withCredentials;\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === XMLHttpRequest.DONE) {\n            return done(xhr);\n          }\n        };\n        return xhr;\n      };\n\n      processResponse = function(response, type) {\n        var parser, script;\n        if (typeof response === 'string' && typeof type === 'string') {\n          if (type.match(/\\bjson\\b/)) {\n            try {\n              response = JSON.parse(response);\n            } catch (error) {}\n          } else if (type.match(/\\b(?:java|ecma)script\\b/)) {\n            script = document.createElement('script');\n            script.setAttribute('nonce', cspNonce());\n            script.text = response;\n            document.head.appendChild(script).parentNode.removeChild(script);\n          } else if (type.match(/\\b(xml|html|svg)\\b/)) {\n            parser = new DOMParser();\n            type = type.replace(/;.+/, '');\n            try {\n              response = parser.parseFromString(response, type);\n            } catch (error) {}\n          }\n        }\n        return response;\n      };\n\n      Rails.href = function(element) {\n        return element.href;\n      };\n\n      Rails.isCrossDomain = function(url) {\n        var e, originAnchor, urlAnchor;\n        originAnchor = document.createElement('a');\n        originAnchor.href = location.href;\n        urlAnchor = document.createElement('a');\n        try {\n          urlAnchor.href = url;\n          return !(((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host) || (originAnchor.protocol + '//' + originAnchor.host === urlAnchor.protocol + '//' + urlAnchor.host));\n        } catch (error) {\n          e = error;\n          return true;\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var matches, toArray;\n\n      matches = Rails.matches;\n\n      toArray = function(e) {\n        return Array.prototype.slice.call(e);\n      };\n\n      Rails.serializeElement = function(element, additionalParam) {\n        var inputs, params;\n        inputs = [element];\n        if (matches(element, 'form')) {\n          inputs = toArray(element.elements);\n        }\n        params = [];\n        inputs.forEach(function(input) {\n          if (!input.name || input.disabled) {\n            return;\n          }\n          if (matches(input, 'fieldset[disabled] *')) {\n            return;\n          }\n          if (matches(input, 'select')) {\n            return toArray(input.options).forEach(function(option) {\n              if (option.selected) {\n                return params.push({\n                  name: input.name,\n                  value: option.value\n                });\n              }\n            });\n          } else if (input.checked || ['radio', 'checkbox', 'submit'].indexOf(input.type) === -1) {\n            return params.push({\n              name: input.name,\n              value: input.value\n            });\n          }\n        });\n        if (additionalParam) {\n          params.push(additionalParam);\n        }\n        return params.map(function(param) {\n          if (param.name != null) {\n            return (encodeURIComponent(param.name)) + \"=\" + (encodeURIComponent(param.value));\n          } else {\n            return param;\n          }\n        }).join('&');\n      };\n\n      Rails.formElements = function(form, selector) {\n        if (matches(form, 'form')) {\n          return toArray(form.elements).filter(function(el) {\n            return matches(el, selector);\n          });\n        } else {\n          return toArray(form.querySelectorAll(selector));\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var allowAction, fire, stopEverything;\n\n      fire = Rails.fire, stopEverything = Rails.stopEverything;\n\n      Rails.handleConfirm = function(e) {\n        if (!allowAction(this)) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.confirm = function(message, element) {\n        return confirm(message);\n      };\n\n      allowAction = function(element) {\n        var answer, callback, message;\n        message = element.getAttribute('data-confirm');\n        if (!message) {\n          return true;\n        }\n        answer = false;\n        if (fire(element, 'confirm')) {\n          try {\n            answer = Rails.confirm(message, element);\n          } catch (error) {}\n          callback = fire(element, 'confirm:complete', [answer]);\n        }\n        return answer && callback;\n      };\n\n    }).call(this);\n    (function() {\n      var disableFormElement, disableFormElements, disableLinkElement, enableFormElement, enableFormElements, enableLinkElement, formElements, getData, isXhrRedirect, matches, setData, stopEverything;\n\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, stopEverything = Rails.stopEverything, formElements = Rails.formElements;\n\n      Rails.handleDisabledElement = function(e) {\n        var element;\n        element = this;\n        if (element.disabled) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.enableElement = function(e) {\n        var element;\n        if (e instanceof Event) {\n          if (isXhrRedirect(e)) {\n            return;\n          }\n          element = e.target;\n        } else {\n          element = e;\n        }\n        if (matches(element, Rails.linkDisableSelector)) {\n          return enableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formEnableSelector)) {\n          return enableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return enableFormElements(element);\n        }\n      };\n\n      Rails.disableElement = function(e) {\n        var element;\n        element = e instanceof Event ? e.target : e;\n        if (matches(element, Rails.linkDisableSelector)) {\n          return disableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formDisableSelector)) {\n          return disableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return disableFormElements(element);\n        }\n      };\n\n      disableLinkElement = function(element) {\n        var replacement;\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n        replacement = element.getAttribute('data-disable-with');\n        if (replacement != null) {\n          setData(element, 'ujs:enable-with', element.innerHTML);\n          element.innerHTML = replacement;\n        }\n        element.addEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableLinkElement = function(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n        if (originalText != null) {\n          element.innerHTML = originalText;\n          setData(element, 'ujs:enable-with', null);\n        }\n        element.removeEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      disableFormElements = function(form) {\n        return formElements(form, Rails.formDisableSelector).forEach(disableFormElement);\n      };\n\n      disableFormElement = function(element) {\n        var replacement;\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n        replacement = element.getAttribute('data-disable-with');\n        if (replacement != null) {\n          if (matches(element, 'button')) {\n            setData(element, 'ujs:enable-with', element.innerHTML);\n            element.innerHTML = replacement;\n          } else {\n            setData(element, 'ujs:enable-with', element.value);\n            element.value = replacement;\n          }\n        }\n        element.disabled = true;\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableFormElements = function(form) {\n        return formElements(form, Rails.formEnableSelector).forEach(enableFormElement);\n      };\n\n      enableFormElement = function(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n        if (originalText != null) {\n          if (matches(element, 'button')) {\n            element.innerHTML = originalText;\n          } else {\n            element.value = originalText;\n          }\n          setData(element, 'ujs:enable-with', null);\n        }\n        element.disabled = false;\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      isXhrRedirect = function(event) {\n        var ref, xhr;\n        xhr = (ref = event.detail) != null ? ref[0] : void 0;\n        return (xhr != null ? xhr.getResponseHeader(\"X-Xhr-Redirect\") : void 0) != null;\n      };\n\n    }).call(this);\n    (function() {\n      var stopEverything;\n\n      stopEverything = Rails.stopEverything;\n\n      Rails.handleMethod = function(e) {\n        var csrfParam, csrfToken, form, formContent, href, link, method;\n        link = this;\n        method = link.getAttribute('data-method');\n        if (!method) {\n          return;\n        }\n        href = Rails.href(link);\n        csrfToken = Rails.csrfToken();\n        csrfParam = Rails.csrfParam();\n        form = document.createElement('form');\n        formContent = \"<input name='_method' value='\" + method + \"' type='hidden' />\";\n        if ((csrfParam != null) && (csrfToken != null) && !Rails.isCrossDomain(href)) {\n          formContent += \"<input name='\" + csrfParam + \"' value='\" + csrfToken + \"' type='hidden' />\";\n        }\n        formContent += '<input type=\"submit\" />';\n        form.method = 'post';\n        form.action = href;\n        form.target = link.target;\n        form.innerHTML = formContent;\n        form.style.display = 'none';\n        document.body.appendChild(form);\n        form.querySelector('[type=\"submit\"]').click();\n        return stopEverything(e);\n      };\n\n    }).call(this);\n    (function() {\n      var ajax, fire, getData, isCrossDomain, isRemote, matches, serializeElement, setData, stopEverything,\n        slice = [].slice;\n\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, fire = Rails.fire, stopEverything = Rails.stopEverything, ajax = Rails.ajax, isCrossDomain = Rails.isCrossDomain, serializeElement = Rails.serializeElement;\n\n      isRemote = function(element) {\n        var value;\n        value = element.getAttribute('data-remote');\n        return (value != null) && value !== 'false';\n      };\n\n      Rails.handleRemote = function(e) {\n        var button, data, dataType, element, method, url, withCredentials;\n        element = this;\n        if (!isRemote(element)) {\n          return true;\n        }\n        if (!fire(element, 'ajax:before')) {\n          fire(element, 'ajax:stopped');\n          return false;\n        }\n        withCredentials = element.getAttribute('data-with-credentials');\n        dataType = element.getAttribute('data-type') || 'script';\n        if (matches(element, Rails.formSubmitSelector)) {\n          button = getData(element, 'ujs:submit-button');\n          method = getData(element, 'ujs:submit-button-formmethod') || element.method;\n          url = getData(element, 'ujs:submit-button-formaction') || element.getAttribute('action') || location.href;\n          if (method.toUpperCase() === 'GET') {\n            url = url.replace(/\\?.*$/, '');\n          }\n          if (element.enctype === 'multipart/form-data') {\n            data = new FormData(element);\n            if (button != null) {\n              data.append(button.name, button.value);\n            }\n          } else {\n            data = serializeElement(element, button);\n          }\n          setData(element, 'ujs:submit-button', null);\n          setData(element, 'ujs:submit-button-formmethod', null);\n          setData(element, 'ujs:submit-button-formaction', null);\n        } else if (matches(element, Rails.buttonClickSelector) || matches(element, Rails.inputChangeSelector)) {\n          method = element.getAttribute('data-method');\n          url = element.getAttribute('data-url');\n          data = serializeElement(element, element.getAttribute('data-params'));\n        } else {\n          method = element.getAttribute('data-method');\n          url = Rails.href(element);\n          data = element.getAttribute('data-params');\n        }\n        ajax({\n          type: method || 'GET',\n          url: url,\n          data: data,\n          dataType: dataType,\n          beforeSend: function(xhr, options) {\n            if (fire(element, 'ajax:beforeSend', [xhr, options])) {\n              return fire(element, 'ajax:send', [xhr]);\n            } else {\n              fire(element, 'ajax:stopped');\n              return false;\n            }\n          },\n          success: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:success', args);\n          },\n          error: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:error', args);\n          },\n          complete: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:complete', args);\n          },\n          crossDomain: isCrossDomain(url),\n          withCredentials: (withCredentials != null) && withCredentials !== 'false'\n        });\n        return stopEverything(e);\n      };\n\n      Rails.formSubmitButtonClick = function(e) {\n        var button, form;\n        button = this;\n        form = button.form;\n        if (!form) {\n          return;\n        }\n        if (button.name) {\n          setData(form, 'ujs:submit-button', {\n            name: button.name,\n            value: button.value\n          });\n        }\n        setData(form, 'ujs:formnovalidate-button', button.formNoValidate);\n        setData(form, 'ujs:submit-button-formaction', button.getAttribute('formaction'));\n        return setData(form, 'ujs:submit-button-formmethod', button.getAttribute('formmethod'));\n      };\n\n      Rails.preventInsignificantClick = function(e) {\n        var data, insignificantMetaClick, link, metaClick, method, nonPrimaryMouseClick;\n        link = this;\n        method = (link.getAttribute('data-method') || 'GET').toUpperCase();\n        data = link.getAttribute('data-params');\n        metaClick = e.metaKey || e.ctrlKey;\n        insignificantMetaClick = metaClick && method === 'GET' && !data;\n        nonPrimaryMouseClick = (e.button != null) && e.button !== 0;\n        if (nonPrimaryMouseClick || insignificantMetaClick) {\n          return e.stopImmediatePropagation();\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var $, CSRFProtection, delegate, disableElement, enableElement, fire, formSubmitButtonClick, getData, handleConfirm, handleDisabledElement, handleMethod, handleRemote, loadCSPNonce, preventInsignificantClick, refreshCSRFTokens;\n\n      fire = Rails.fire, delegate = Rails.delegate, getData = Rails.getData, $ = Rails.$, refreshCSRFTokens = Rails.refreshCSRFTokens, CSRFProtection = Rails.CSRFProtection, loadCSPNonce = Rails.loadCSPNonce, enableElement = Rails.enableElement, disableElement = Rails.disableElement, handleDisabledElement = Rails.handleDisabledElement, handleConfirm = Rails.handleConfirm, preventInsignificantClick = Rails.preventInsignificantClick, handleRemote = Rails.handleRemote, formSubmitButtonClick = Rails.formSubmitButtonClick, handleMethod = Rails.handleMethod;\n\n      if ((typeof jQuery !== \"undefined\" && jQuery !== null) && (jQuery.ajax != null)) {\n        if (jQuery.rails) {\n          throw new Error('If you load both jquery_ujs and rails-ujs, use rails-ujs only.');\n        }\n        jQuery.rails = Rails;\n        jQuery.ajaxPrefilter(function(options, originalOptions, xhr) {\n          if (!options.crossDomain) {\n            return CSRFProtection(xhr);\n          }\n        });\n      }\n\n      Rails.start = function() {\n        if (window._rails_loaded) {\n          throw new Error('rails-ujs has already been loaded!');\n        }\n        window.addEventListener('pageshow', function() {\n          $(Rails.formEnableSelector).forEach(function(el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n          return $(Rails.linkDisableSelector).forEach(function(el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n        });\n        delegate(document, Rails.linkDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.linkDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.linkClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.linkClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.linkClickSelector, 'click', disableElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleRemote);\n        delegate(document, Rails.linkClickSelector, 'click', handleMethod);\n        delegate(document, Rails.buttonClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.buttonClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.buttonClickSelector, 'click', disableElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleRemote);\n        delegate(document, Rails.inputChangeSelector, 'change', handleDisabledElement);\n        delegate(document, Rails.inputChangeSelector, 'change', handleConfirm);\n        delegate(document, Rails.inputChangeSelector, 'change', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleDisabledElement);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleConfirm);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', function(e) {\n          return setTimeout((function() {\n            return disableElement(e);\n          }), 13);\n        });\n        delegate(document, Rails.formSubmitSelector, 'ajax:send', disableElement);\n        delegate(document, Rails.formSubmitSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.formInputClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.formInputClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.formInputClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.formInputClickSelector, 'click', formSubmitButtonClick);\n        document.addEventListener('DOMContentLoaded', refreshCSRFTokens);\n        document.addEventListener('DOMContentLoaded', loadCSPNonce);\n        return window._rails_loaded = true;\n      };\n\n      if (window.Rails === Rails && fire(document, 'rails:attachBindings')) {\n        Rails.start();\n      }\n\n    }).call(this);\n  }).call(this);\n\n  if (typeof module === \"object\" && module.exports) {\n    module.exports = Rails;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(Rails);\n  }\n}).call(this);\n","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import Rails from '@rails/ujs'\nimport Sortable from 'sortablejs'\nimport { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static values = {\n    inputName: String,\n    updateUrl: String\n  }\n\n  initialize() {\n    this.onDragEnd = this.onDragEnd.bind(this)\n  }\n\n  connect() {\n    this.sortable = new Sortable(this.element, {\n      ...this.options\n    })\n  }\n\n  disconnect() {\n    this.sortable.destroy()\n    this.sortable = undefined\n  }\n\n  onDragEnd({ item, newIndex }) {\n    const data = new FormData()\n    data.append(this.inputNameValue, newIndex + 1)\n\n    Rails.ajax({\n      url: this.updateUrlValue,\n      type: 'PATCH',\n      data\n    })\n  }\n\n  get options() {\n    return {\n      animation: 150,\n      handle: '.ui-sortable-handle',\n      onEnd: this.onDragEnd\n    }\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"content\", \"icon\" ]\n  static classes = [ \"hidden\", \"collapsed\" ]\n  static values = {\n    collapsed: Boolean,\n  }\n\n  connect() {\n    this._handleCollapsedState()\n  }\n\n  toggle() {\n    this.collapsedValue = !this.collapsedValue\n  }\n\n  collapsedValueChanged() {\n    this._handleCollapsedState()\n  }\n\n  _handleCollapsedState() {\n    if (this.collapsedValue) {\n      this._collapse()\n    } else {\n      this._expand()\n    }\n  }\n\n  _collapse() {\n    this.contentTarget.classList.add(this.hiddenClass)\n    this.iconTarget.classList.add(this.collapsedClass)\n  }\n\n  _expand() {\n    this.contentTarget.classList.remove(this.hiddenClass)\n    this.iconTarget.classList.remove(this.collapsedClass)\n  }\n}\n"],"names":["connect","useClickOutside","this","modeValue","useHover","toggle","event","preventDefault","stopImmediatePropagation","expandedValue","expandedValueChanged","_expand","_collapse","clickOutside","mouseEnter","mouseLeave","element","setAttribute","expandableTarget","classList","remove","hiddenClass","add","Controller","classes","targets","values","expanded","Boolean","mode","String","_hideWindows","windowPositionValueChanged","next","windowPositionValue","previous","windowsTargets","forEach","el","parseInt","dataset","position","windowPosition","Number","_onChange","stepPositionValueChanged","stepPositionValue","_showCurrentContent","_toggleControls","_toggleCurrentStep","stepTargets","_position","currentStepClass","_is_last_step","nextTarget","finishTarget","_is_past_steps","previousTarget","contentTargets","length","stepPosition","select","id","target","value","set","Set","selectedValue","has","_delete","_add","_setSelectedWithSet","selectAll","selected","_selectedInputs","unselected","_unselectedInputs","_is_all_checked","_unselect","_select","selectedValueChanged","_setSelected","inputs","map","inputTargets","checked","includes","hasSelectAllTarget","selectAllTarget","filter","Array","from","delete","typeValue","clear","type","Rails","linkClickSelector","buttonClickSelector","selector","exclude","inputChangeSelector","formSubmitSelector","formInputClickSelector","formDisableSelector","formEnableSelector","fileInputSelector","linkDisableSelector","buttonDisableSelector","call","nonce","loadCSPNonce","ref","document","querySelector","content","cspNonce","m","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","getData","key","setData","$","slice","querySelectorAll","csrfParam","csrfToken","meta","CSRFProtection","xhr","token","setRequestHeader","refreshCSRFTokens","param","input","CustomEvent","fire","window","params","evt","createEvent","initCustomEvent","bubbles","cancelable","detail","Event","result","defaultPrevented","Object","defineProperty","get","obj","name","data","dispatchEvent","stopEverything","e","stopPropagation","delegate","eventType","handler","addEventListener","parentNode","AcceptHeaders","createXHR","prepareOptions","processResponse","*","text","html","xml","json","script","ajax","options","response","responseText","getResponseHeader","Math","floor","status","success","statusText","error","complete","beforeSend","readyState","XMLHttpRequest","OPENED","send","url","location","href","toUpperCase","indexOf","dataType","accept","done","open","crossDomain","withCredentials","onreadystatechange","DONE","parser","match","JSON","parse","createElement","head","appendChild","removeChild","DOMParser","replace","parseFromString","isCrossDomain","originAnchor","urlAnchor","protocol","host","toArray","serializeElement","additionalParam","elements","disabled","option","push","encodeURIComponent","join","formElements","form","allowAction","handleConfirm","confirm","message","answer","callback","getAttribute","disableFormElement","disableFormElements","disableLinkElement","enableFormElement","enableFormElements","enableLinkElement","isXhrRedirect","handleDisabledElement","enableElement","disableElement","replacement","innerHTML","originalText","removeEventListener","handleMethod","formContent","method","action","style","display","body","click","isRemote","handleRemote","button","enctype","FormData","append","args","arguments","formSubmitButtonClick","formNoValidate","preventInsignificantClick","metaKey","ctrlKey","jQuery","rails","Error","ajaxPrefilter","originalOptions","start","_rails_loaded","setTimeout","module","exports","_typeof","Symbol","iterator","constructor","_defineProperty","enumerable","configurable","writable","_extends","assign","i","source","hasOwnProperty","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","navigator","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","fn","off","substring","_","getParentOrHost","nodeType","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","className","css","prop","val","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","children","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","round","throttle","ms","scrollBy","x","y","Polymer","Zepto","dom","cloneNode","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","child","rect","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","splice","arr","indexOfObject","animateAll","_this","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","p","pluginName","pluginEvent","eventName","sortable","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_ref","undefined","originalEvent","bind","dragEl","parentEl","ghostEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","dragStarted","moved","putSortable","activeSortable","active","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","targetEl","toEl","fromEl","extraEventProperties","onName","charAt","substr","initEvent","to","item","pullMode","lastPutMode","allEventProperties","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","_prepareGroup","toFn","pull","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","nearestEmptyInsertDetectEvent","nearest","touches","clientX","clientY","some","threshold","emptyInsertThreshold","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","sort","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","src","sum","charCodeAt","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","targetS1Opp","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","order","useAnimation","items","destroy","removeAttribute","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","_len","_key","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","initialize","onDragEnd","disconnect","inputNameValue","updateUrlValue","onEnd","inputName","updateUrl","_handleCollapsedState","collapsedValue","collapsedValueChanged","contentTarget","iconTarget","collapsedClass","collapsed"],"mappings":"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"}