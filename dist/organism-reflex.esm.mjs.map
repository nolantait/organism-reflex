{"version":3,"file":"organism-reflex.esm.mjs","sources":["../src/dropdown.js","../src/pagination.js","../src/wizard.js","../src/selectable.js","../src/sortable.js","../src/collapsable.js","../src/tooltip.js","../src/notification.js"],"sourcesContent":["import { Controller } from \"stimulus\"\nimport { useHover, useClickOutside } from 'stimulus-use'\n\nexport default class extends Controller {\n  static classes = [ \"hidden\" ]\n  static targets = [ \"expandable\" ]\n  static values = {\n    expanded: Boolean,\n    mode: String\n  }\n\n  connect() {\n    switch(this.modeValue) {\n      case 'click':\n        useClickOutside(this)\n        break\n      case 'hover':\n        useHover(this)\n        break\n      default:\n        break\n    }\n\n    this.expandedValue ?\n      this._expand() :\n      this._collapse()\n  }\n\n  toggle(event) {\n    this.expandedValue = !this.expandedValue\n  }\n\n  expandedValueChanged() {\n    this.expandedValue ?\n      this._expand() :\n      this._collapse()\n  }\n\n  clickOutside(event) {\n    this.expandedValue = false\n  }\n\n  mouseEnter() {\n    this.expandedValue = true\n  }\n\n  mouseLeave() {\n    this.expandedValue = false\n  }\n\n  _expand() {\n    this.element.setAttribute(\"aria-expanded\", \"true\")\n    this.expandableTarget.classList.remove(this.hiddenClass)\n  }\n\n  _collapse() {\n    this.element.setAttribute(\"aria-expanded\", \"false\")\n    this.expandableTarget.classList.add(this.hiddenClass)\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ \"hidden\" ]\n  static targets = [ \"windows\" ]\n  static values = {\n    windowPosition: Number,\n  }\n\n  connect() {\n    this._hideWindows()\n  }\n\n  windowPositionValueChanged() {\n    this._hideWindows()\n  }\n\n  next(event) {\n    this.windowPositionValue += 1\n  }\n\n  previous(event) {\n    this.windowPositionValue -= 1\n  }\n\n  _hideWindows() {\n    this.windowsTargets.forEach((el) => {\n      const elPosition = parseInt(el.dataset.position)\n\n      if (elPosition === this.windowPositionValue) {\n        el.classList.remove(this.hiddenClass)\n      } else {\n        el.classList.add(this.hiddenClass)\n      }\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ \"hidden\", \"currentStep\" ]\n  static targets = [ \"step\", \"content\", \"next\", \"previous\", \"finish\"]\n  static values = {\n    stepPosition: Number,\n  }\n\n  connect() {\n    this._onChange()\n  }\n\n  stepPositionValueChanged() {\n    this._onChange()\n  }\n\n  next() {\n    this.stepPositionValue += 1\n  }\n\n  previous() {\n    this.stepPositionValue -= 1\n  }\n\n  _onChange() {\n    this._showCurrentContent()\n    this._toggleControls()\n    this._toggleCurrentStep()\n  }\n\n  _toggleCurrentStep() {\n    this.stepTargets.forEach((el) => {\n      if (this._position(el) === this.stepPositionValue) {\n        el.classList.add(this.currentStepClass)\n      } else {\n        el.classList.remove(this.currentStepClass)\n      }\n    })\n  }\n\n  _toggleControls() {\n    if (this._is_last_step()) {\n      this.nextTarget.classList.add(this.hiddenClass)\n      this.finishTarget.classList.remove(this.hiddenClass)\n    } else {\n      this.finishTarget.classList.add(this.hiddenClass)\n      this.nextTarget.classList.remove(this.hiddenClass)\n    }\n\n    if (this._is_past_steps()) {\n      this.previousTarget.classList.remove(this.hiddenClass)\n    } else {\n      this.previousTarget.classList.add(this.hiddenClass)\n    }\n  }\n\n  _is_past_steps() {\n    return this.stepPositionValue > 1\n  }\n\n  _is_last_step() {\n    return this.stepPositionValue === this.contentTargets.length\n  }\n\n  _showCurrentContent(targets) {\n    this.contentTargets.forEach((el) => {\n      if (this._position(el) === this.stepPositionValue) {\n        el.classList.remove(this.hiddenClass)\n      } else {\n        el.classList.add(this.hiddenClass)\n      }\n    })\n  }\n\n  _position(el) {\n    return parseInt(el.dataset.position)\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"input\", \"selectAll\" ]\n  static values = {\n    selected: Array,\n    type: String\n  }\n\n  select(event) {\n    const id = event.target.value\n    let set = new Set(this.selectedValue)\n\n    if (set.has(id)) {\n      this._delete(set, id)\n    } else {\n      this._add(set, id)\n    }\n\n    this._setSelectedWithSet(set)\n  }\n\n  selectAll(event) {\n    const selected = this._selectedInputs()\n    const unselected = this._unselectedInputs()\n\n    if (this._is_all_checked()) {\n      this._unselect(selected)\n    } else {\n      this._select(unselected)\n    }\n  }\n\n  selectedValueChanged() {\n    this._setSelected()\n  }\n\n  _select(inputs) {\n    const set = new Set(this.selectedValue)\n    const ids = inputs.map((el) => el.value)\n\n    ids.forEach((id) => {\n      this._add(set, id)\n    })\n\n    this._setSelectedWithSet(set)\n  }\n\n  _unselect(inputs) {\n    const set = new Set(this.selectedValue)\n    const ids = inputs.map((el) => el.value)\n\n    ids.forEach((id) => {\n      this._delete(set, id)\n    })\n\n    this._setSelectedWithSet(set)\n  }\n\n  _setSelected() {\n    this.inputTargets.forEach((el) => {\n      el.checked = this.selectedValue.includes(el.value)\n    })\n\n    if (this.hasSelectAllTarget) {\n      this.selectAllTarget.checked = this._is_all_checked()\n    }\n  }\n\n  _is_all_checked() {\n    return this._selectedInputs().length === this.inputTargets.length\n  }\n\n  _selectedInputs() {\n    return this.inputTargets.filter(el => el.checked)\n  }\n\n  _unselectedInputs() {\n    return this.inputTargets.filter(el => !el.checked)\n  }\n\n  _setSelectedWithSet(set) {\n    this.selectedValue = Array.from(set)\n  }\n\n  _delete(set, value) {\n    set.delete(value)\n  }\n\n  _add(set, value) {\n    if (this.typeValue === 'one') {\n      set.clear()\n    }\n\n    set.add(value)\n  }\n}\n","import Rails from '@rails/ujs'\nimport Sortable from 'sortablejs'\nimport { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ 'handle' ]\n  static values = {\n    inputName: String,\n    updateUrl: String,\n  }\n\n  initialize() {\n    this.onDragEnd = this.onDragEnd.bind(this)\n  }\n\n  connect() {\n    this.sortable = new Sortable(this.element, {\n      ...this.options\n    })\n  }\n\n  disconnect() {\n    this.sortable.destroy()\n    this.sortable = undefined\n  }\n\n  onDragEnd({ item, newIndex }) {\n    const data = new FormData()\n    data.append(this.inputNameValue, this.sortable.toArray())\n\n    Rails.ajax({\n      url: this.updateUrlValue,\n      type: 'PATCH',\n      data\n    })\n  }\n\n  get options() {\n    return {\n      animation: 150,\n      handle: `.${this.handleClass}`,\n      onEnd: this.onDragEnd\n    }\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"content\", \"icon\" ]\n  static classes = [ \"hidden\", \"collapsed\" ]\n  static values = {\n    collapsed: Boolean,\n  }\n\n  connect() {\n    this._handleCollapsedState()\n  }\n\n  toggle() {\n    this.collapsedValue = !this.collapsedValue\n  }\n\n  collapsedValueChanged() {\n    this._handleCollapsedState()\n  }\n\n  _handleCollapsedState() {\n    if (this.collapsedValue) {\n      this._collapse()\n    } else {\n      this._expand()\n    }\n  }\n\n  _collapse() {\n    this.contentTarget.classList.add(this.hiddenClass)\n    this.iconTarget.classList.add(this.collapsedClass)\n  }\n\n  _expand() {\n    this.contentTarget.classList.remove(this.hiddenClass)\n    this.iconTarget.classList.remove(this.collapsedClass)\n  }\n}\n","import { Controller } from \"stimulus\"\nimport { useHover, useClickOutside } from 'stimulus-use'\n\nexport default class extends Controller {\n  static targets = [ \"content\" ]\n  static classes = [ \"hidden\" ]\n  static values = {\n    mode: String,\n    expanded: Boolean,\n  }\n\n  connect() {\n    useClickOutside(this)\n\n    switch(this.modeValue) {\n      case 'click':\n        break\n      case 'hover':\n        useHover(this)\n        break\n      default:\n        break\n    }\n  }\n\n  toggle(event) {\n    this.expandedValue = !this.expandedValue\n  }\n\n  expandedValueChanged() {\n    this.expandedValue ?\n      this._expand() :\n      this._collapse()\n  }\n\n  clickOutside(event) {\n    this.expandedValue = false\n  }\n\n  mouseEnter() {\n    this.expandedValue = true\n  }\n\n  mouseLeave() {\n    this.expandedValue = false\n  }\n\n  _expand() {\n    this.element.setAttribute(\"aria-expanded\", \"true\")\n    this.contentTarget.classList.remove(this.hiddenClass)\n  }\n\n  _collapse() {\n    this.element.setAttribute(\"aria-expanded\", \"false\")\n    this.contentTarget.classList.add(this.hiddenClass)\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static classes = [ \"hidden\" ]\n\n  toggle(event) {\n    this.element.classList.add(this.hiddenClass)\n  }\n}\n"],"names":["connect","this","modeValue","useClickOutside","useHover","expandedValue","_expand","_collapse","toggle","event","expandedValueChanged","clickOutside","mouseEnter","mouseLeave","element","setAttribute","expandableTarget","classList","remove","hiddenClass","add","Controller","classes","targets","values","expanded","Boolean","mode","String","_hideWindows","windowPositionValueChanged","next","windowPositionValue","previous","windowsTargets","forEach","el","parseInt","dataset","position","windowPosition","Number","_onChange","stepPositionValueChanged","stepPositionValue","_showCurrentContent","_toggleControls","_toggleCurrentStep","stepTargets","_position","currentStepClass","_is_last_step","nextTarget","finishTarget","_is_past_steps","previousTarget","contentTargets","length","stepPosition","select","id","target","value","set","Set","selectedValue","has","_delete","_add","_setSelectedWithSet","selectAll","selected","_selectedInputs","unselected","_unselectedInputs","_is_all_checked","_unselect","_select","selectedValueChanged","_setSelected","inputs","map","inputTargets","checked","includes","hasSelectAllTarget","selectAllTarget","filter","Array","from","delete","typeValue","clear","type","initialize","onDragEnd","bind","sortable","Sortable","Object","options","disconnect","destroy","undefined","data","FormData","append","inputNameValue","toArray","Rails","ajax","url","updateUrlValue","animation","handle","onEnd","inputName","updateUrl","_handleCollapsedState","collapsedValue","collapsedValueChanged","contentTarget","iconTarget","collapsedClass","collapsed"],"mappings":"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"}